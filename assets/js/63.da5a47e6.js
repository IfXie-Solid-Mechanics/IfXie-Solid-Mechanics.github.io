(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{420:function(s,n,a){"use strict";a.r(n);var e=a(7),r=Object(e.a)({},(function(){var s=this,n=s._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"potfit拟合eam工作流"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#potfit拟合eam工作流"}},[s._v("#")]),s._v(" potfit拟合EAM工作流")]),s._v(" "),n("h2",{attrs:{id:"_1-设置zhou势函数"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-设置zhou势函数"}},[s._v("#")]),s._v(" 1. 设置Zhou势函数")]),s._v(" "),n("p",[s._v("先进行声明：")]),s._v(" "),n("div",{staticClass:"language-c++ line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("FUNCTION(zhou_psi_r, 7);\nFUNCTION(zhou_rho_r, 4);\nFUNCTION(zhou_F_rho, 12);\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("然后再进行定义：")]),s._v(" "),n("div",{staticClass:"language-c++ line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("void zhou_psi_r_value(const double r, const double* p, double* f)\n{\n  double z = r / p[0] - 1;\n  double temp1 = exp(-p[1] * z);\n  double temp2 = exp(-p[2] * z);\n  double temp3 = r / p[0] - p[5];\n  double temp4 = r / p[0] - p[6];\n  double power1 = 0;\n  double power2 = 0;\n  power_1(&power1, &temp3, 20);\n  power_1(&power2, &temp4, 20);\n\n  *f = p[3] * temp1 / (1 + power1) - p[4] * temp2 / (1 + power2);\n}\n\nvoid zhou_rho_r_value(const double r, const double* p, double* f)\n{\n  double z = r / p[1] - 1;\n  double temp = exp(-p[2] * z);\n  double power1 = 0;\n  double tmp = r / p[1] -p[3];\n  power_1(&power1, &tmp, 20);\n\n  *f = p[0] * temp / (1 + power1);\n}\n\nvoid zhou_F_rho_value(const double r, const double* p, double* f)\n{\n  double rho_n = 0.85 * p[0];\n  double rho_o = 1.15 * p[0];\n  double x1 = r / rho_n - 1;\n  double x2 = r / p[0] - 1;\n  double x3 = r / p[1];\n  if (r < rho_n){\n    double power1 = 0;\n    double power2 = 0;\n    power_1(&power1, &x1, 2);\n    power_1(&power2, &x1, 3);\n    *f = p[2] + p[3] * x1 + p[4] * power1 + p[5] * power2;\n  }\n  \n  if (r >= rho_n && r < rho_o){\n    double power3 = 0;\n    double power4 = 0;\n    power_1(&power3, &x2, 2);\n    power_1(&power4, &x2, 3);\n    *f = p[6] + p[7] * x2 + p[8] * power3 + p[9] * power4;\n  }\n\n  if (r >= rho_o){\n    double power5 = 0;\n    power_1(&power5, &x3, &p[11]);\n    *f = p[10] * (1 - log(power5)) * power5;\n  }\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br")])]),n("h2",{attrs:{id:"_2-编译程序"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-编译程序"}},[s._v("#")]),s._v(" 2. 编译程序")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" ~/intel/oneapi/setvars.sh\n./waf configure "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-i")]),s._v(" eam "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-m")]),s._v(" apot  --enable-mpi\n./waf build\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#在bin目录下出现potfit_apot_eam_mkl_mpi")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h2",{attrs:{id:"_3-修改初始势函数"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-修改初始势函数"}},[s._v("#")]),s._v(" 3. 修改初始势函数")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("#F 0 3\n#T EAM\n#I 0 0 0\n#E\n \n \ntype zhou_psi_r\ncutoff 7.0\nr_e     2.488746    2.0     4.0\nalpha   8.383453    6.0     12.0\nbeta    4.4711175   3.0     6.0\nA       0.429046    0.1     0.9\nB       0.633531    0.1     1.5\nkappa   0.443599    0.1     0.5\nlambda  0.820658    0.1     1.0\n \ntype zhou_rho_r\ncutoff 7.0\nf_e     2.007018    0.5     3.5\nr_e     2.488746    2.0     4.0\nbeta    4.4711175   3.0     6.0\nlambda  0.820658    0.1     1.0\n \ntype zhou_F_rho\ncutoff 7.0\nrho_e   27.562015   5.0     40.0\nrho_s   27.930410   5.0     40.0\nF_n0    -2.693513   -6.0    0.0\nF_n1    -0.076445   -3.0    0.0\nF_n2    0.241442    0.0     2.0\nF_n3    -2.375626   -5.0    1.5\nF_0     -2.70       -6.0    0.0\nF_1     0.0         0.0     0.0\nF_2     0.265390    0.0     3.5\nF_3     -0.152856   -3.0    1.5\nF_e     -2.699486   -5.0    0.0\neta     0.469       -1.0    1.0\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br")])]),n("h2",{attrs:{id:"_4-运行与结果"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-运行与结果"}},[s._v("#")]),s._v(" 4. 运行与结果")]),s._v(" "),n("p",[s._v("在ZHANG01上开64个CPU运行")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("nohup")]),s._v(" mpirun "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-np")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v(" ./potfit_apot_eam_mkl_mpi Ni_eam.param "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" output.log "),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("2")]),s._v(">")]),n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("&1")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])])}),[],!1,null,null,null);n.default=r.exports}}]);