(window.webpackJsonp=window.webpackJsonp||[]).push([[110],{478:function(s,a,t){"use strict";t.r(a);var n=t(7),e=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"vasp安装教程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vasp安装教程"}},[s._v("#")]),s._v(" VASP安装教程")]),s._v(" "),a("p",[s._v("VASP(Vienna Ab initio Simulation Package)，是一款维也纳大学研发的对于分子结构等的基于第一性原理的计算软件。")]),s._v(" "),a("h2",{attrs:{id:"_1-vasp环境安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-vasp环境安装"}},[s._v("#")]),s._v(" 1. VASP环境安装")]),s._v(" "),a("p",[s._v("计算环境，是一款科学计算软件在运行时，需要使用的编译器，科学计算库。而VASP是基于Fortran为源码编写，运用了MPI并行协议，调用了部分科学计算库，因此我们使用VASP时，需要将对应的编译器，计算库安装在计算机上。")]),s._v(" "),a("h3",{attrs:{id:"_1-1-安装intel®-parallel-studio-xe-2020"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-安装intel®-parallel-studio-xe-2020"}},[s._v("#")]),s._v(" 1.1 安装Intel® Parallel Studio XE 2020")]),s._v(" "),a("p",[s._v("推荐安装的理由是，其一，对于我们服务器的硬件，Intel编译器效果会更好；其二，Intel编译器能够满足VASP所需的环境要求：")]),s._v(" "),a("p",[s._v("·Compilers for Fortran (at least F2008 compliant), C, and C++.")]),s._v(" "),a("p",[s._v("·Numerical libraries: FFTW, BLAS, LAPACK, and ScaLAPACK.")]),s._v(" "),a("p",[s._v("·An implementation of the Message Passing Interface (MPI).")]),s._v(" "),a("p",[s._v("只要能够弄到intel编译器的安装包及Licenses文件即可简单地按照其内容安装了。而弄到的方法是很多的，而且张寅老师肯定是有的。")]),s._v(" "),a("h2",{attrs:{id:"_2-vasp安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-vasp安装"}},[s._v("#")]),s._v(" 2. VASP安装")]),s._v(" "),a("p",[s._v("VASP的安装包可以直接找张寅老师要，顺便要赝势文件。"),a("s",[s._v("找我要的话只有6.4.1版本以及当时的赝势文件")])]),s._v(" "),a("h3",{attrs:{id:"_2-1-vasp安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-vasp安装"}},[s._v("#")]),s._v(" 2.1 VASP安装")]),s._v(" "),a("p",[s._v("解压后进入VASP中的arch目录复制该目录下的makefile.include.linux_intel文件到上一级目录，并改名为makefile.include。这一步是确定makefile的include头，而因为我们之前安装的环境是intel编译器所以选择这个include头。"),a("s",[s._v("如果你是手搓的环境，选makefile.include.gnu_omp")])]),s._v(" "),a("p",[s._v("然后对于这个makefile.include文件再稍作调整。调整结果如下")]),s._v(" "),a("div",{staticClass:"language-makefile line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-makefile"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Default precompiler options")]),s._v("\nCPP_OPTIONS "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" -DHOST"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v('\\"LinuxIFC\\" \\\n              -DMPI -DMPI_BLOCK'),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("8000 -Duse_collective \\\n              -DscaLAPACK \\\n              -DCACHE_SIZE"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("4000 \\\n              -Davoidalloc \\\n              -Dvasp6 \\\n              -Duse_bse_te \\\n              -Dtbdyn \\\n              -Dfock_dblbuf\n\nCPP         "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" fpp -f_com"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("no -free -w0  "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$*$")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("FUFFIX"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$*$")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("SUFFIX"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CPP_OPTIONS"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nFC          "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" mpiifort\nFCL         "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" mpiifort\n\nFREE        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" -free -names lowercase\n\nFFLAGS      "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" -assume byterecl -w\n\nOFLAG       "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" -O2 -xhost\nOFLAG_IN    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("OFLAG"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nDEBUG       "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" -O0\n\nOBJECTS     "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" fftmpiw.o fftmpi_map.o fftw3d.o fft3dlib.o\nOBJECTS_O1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+=")]),s._v(" fftw3d.o fftmpi.o fftmpiw.o\nOBJECTS_O2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+=")]),s._v(" fft3dlib.o\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# For what used to be vasp.5.lib")]),s._v("\nCPP_LIB     "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CPP"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nFC_LIB      "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("FC"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nCC_LIB      "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" icx\nCFLAGS_LIB  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" -O\nFFLAGS_LIB  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" -O1\nFREE_LIB    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("FREE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nOBJECTS_LIB "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" linpack_double.o\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# For the parser library")]),s._v("\nCXX_PARS    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" icpx\nLLIBS       "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" -lstdc++\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## Customize as of this point! Of course you may change the preceding")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## part of this file as well if you like, but it should rarely be")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## necessary ...")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# When compiling on the target machine itself, change this to the")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# relevant target when cross-compiling for another architecture")]),s._v("\nVASP_TARGET_CPU "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?=")]),s._v(" -xHOST\nFFLAGS     "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("VASP_TARGET_CPU"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Intel MKL (FFTW, BLAS, LAPACK, and scaLAPACK)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# (Note: for Intel Parallel Studio's MKL use -mkl instead of -qmkl)")]),s._v("\nFCL        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+=")]),s._v(" -qmkl"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("sequential\nMKLROOT    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?=")]),s._v(" \nLLIBS      "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+=")]),s._v(" -L"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("MKLROOT"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("/lib/intel64 -lmkl_scalapack_lp64 -lmkl_blacs_intelmpi_lp64\nINCS        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("-I"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("MKLROOT"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("/"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("include")]),s._v("/fftw\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# HDF5-support (optional but strongly recommended)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#CPP_OPTIONS+= -DVASP_HDF5")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#HDF5_ROOT  ?= /path/to/your/hdf5/installation")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#LLIBS      += -L$(HDF5_ROOT)/lib -lhdf5_fortran")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#INCS       += -I$(HDF5_ROOT)/include")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# For the VASP-2-Wannier90 interface (optional)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#CPP_OPTIONS    += -DVASP2WANNIER90")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#WANNIER90_ROOT ?= /path/to/your/wannier90/installation")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#LLIBS          += -L$(WANNIER90_ROOT)/lib -lwannier")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br"),a("span",{staticClass:"line-number"},[s._v("65")]),a("br"),a("span",{staticClass:"line-number"},[s._v("66")]),a("br"),a("span",{staticClass:"line-number"},[s._v("67")]),a("br"),a("span",{staticClass:"line-number"},[s._v("68")]),a("br"),a("span",{staticClass:"line-number"},[s._v("69")]),a("br"),a("span",{staticClass:"line-number"},[s._v("70")]),a("br")])]),a("p",[s._v("然后确认自己的Intel编译器的环境是打开了的")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" ~/intel/oneapi/setvars.sh\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("然后即可执行VASP的安装，可以根据需求安装std,gam,ncl版本，每个版本安装时间约为10分钟。")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" all\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#一次性安装上述3个版本")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("安装完成后，~/vasp.6.4.1/bin/vasp_std即为可执行程序，用下面命令调用。")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("mpirun "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-np")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" ~/vasp.6.4.1/bin/vasp_std\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_3-vasp插件说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-vasp插件说明"}},[s._v("#")]),s._v(" 3. VASP插件说明")]),s._v(" "),a("p",[s._v("VASP的插件生态极为丰富，以及其他上下游计算软件生态也十分丰富，几乎都会做格式对齐。这里简要记录张老师提过的建议：")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("如果是处理格式转化的问题，用atomsk软件或ASE库；")])]),s._v(" "),a("li",[a("p",[s._v("如果是处理文件位置，调用程序，则推荐使用bash脚本；")])]),s._v(" "),a("li",[a("p",[s._v("如果在2的基础上设计复杂的数据处理工作，则推荐python脚本。")])])]),s._v(" "),a("p",[s._v("以及下面是我个人补充：")]),s._v(" "),a("ol",[a("li",[s._v("如果是涉及合金的生成，则推荐使用ATAT。")])]),s._v(" "),a("p",[s._v("上述插件的安装和使用都是极为便捷的，网络上可学习资料较多，这里不做详细说明。")])])}),[],!1,null,null,null);a.default=e.exports}}]);